            // Color code score
            if (score > 0) {
                scoreEl.className = 'score';
            } else if (score < 0) {
                scoreEl.className = 'score negative';
            } else {
                scoreEl.className = 'score';
            }
        }
        
        // End game
        function endGame(reason) {
            gameOver = true;
            isTryingToStand = false;
            
            // Clear timers
            if (standTimer) clearTimeout(standTimer);
            if (gameTimer) clearInterval(gameTimer);
            
            // Show escaped person
            personEl.className = 'person';
            personEl.textContent = 'üèÉ‚Äç‚ôÇÔ∏è';
            warningEl.textContent = "Too late! He's gone.";
            warningEl.style.color = '#ff6b6b';
            
            // Update final stats
            finalScoreEl.textContent = score;
            finalTimeEl.textContent = time + 's';
            finalPushesEl.textContent = pushes;
            finalAttemptsEl.textContent = attempts;
            
            // Show game over screen
            gameOverEl.style.display = 'flex';
            
            console.log(`üèÉ‚Äç‚ôÇÔ∏è GAME OVER: ${reason}`);
        }
        
        // Reset game
        function resetGame() {
            startGame();
            console.log('üîÑ Game restarted');
        }
        
        // Setup controls
        function setupControls() {
            // Keyboard controls
            document.addEventListener('keydown', (e) => {
                if (e.code === 'Space' && !gameOver) {
                    pushPerson();
                    e.preventDefault();
                } else if (e.code === 'KeyR') {
                    resetGame();
                }
            });
            
            // Button feedback
            const pushBtn = document.getElementById('pushBtn');
            pushBtn.addEventListener('mousedown', () => {
                pushBtn.style.transform = 'scale(0.95)';
            });
            pushBtn.addEventListener('mouseup', () => {
                pushBtn.style.transform = 'scale(1)';
            });
            pushBtn.addEventListener('mouseleave', () => {
                pushBtn.style.transform = 'scale(1)';
            });
        }
        
        // ============================================
        // START THE GAME - RELIABLE
        // ============================================
        
        function initializeGame() {
            console.log('üéÆ Initializing Couch Guardian...');
            
            // Try to start immediately
            try {
                startGame();
                console.log('‚úÖ Game started immediately');
                return;
            } catch (e) {
                console.log('Immediate start failed:', e.message);
            }
            
            // Fallback: DOMContentLoaded
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', () => {
                    console.log('üìÑ DOM loaded - starting game');
                    startGame();
                });
            } else {
                // Already loaded
                console.log('üìÑ Document ready - starting game');
                startGame();
            }
            
            // Final fallback: timeout
            setTimeout(() => {
                if (!gameTimer) {
                    console.log('‚è∞ Timeout fallback - starting game');
                    startGame();
                }
            }, 500);
        }
        
        // Start the game!
        initializeGame();
        
        // Console welcome
        console.log('=========================================');
        console.log('üõãÔ∏è  COUCH GUARDIAN - SIMPLE & FUN');
        console.log('=========================================');
        console.log('Mechanics: Don\'t let the person stand up');
        console.log('Controls: SPACE to push, R to restart');
        console.log('Scoring: Unpredictable & fun');
        console.log('=========================================');
    </script>
</body>
</html>