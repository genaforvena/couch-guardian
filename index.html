<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Couch Guardian - Working</title>
    <style>
        body { margin: 0; padding: 20px; background: #000; color: white; text-align: center; font-family: Arial; }
        h1 { color: #4ecdc4; margin: 20px 0; }
        .game { margin: 30px; }
        .couch { font-size: 4rem; margin: 10px; }
        .person { font-size: 3.5rem; margin: 10px; transition: transform 0.3s; }
        .person.standing { transform: translateY(-50px); }
        .message { margin: 20px; padding: 15px; background: #222; border-radius: 10px; }
        .btn { background: #4ecdc4; color: white; border: none; padding: 15px 30px; font-size: 1.2rem; border-radius: 10px; cursor: pointer; margin: 10px; }
        .stats { display: flex; justify-content: center; gap: 30px; margin: 20px; }
        .stat { text-align: center; }
        .stat-value { font-size: 2rem; color: #4ecdc4; font-weight: bold; }
    </style>
</head>
<body>
    <h1>üõãÔ∏è COUCH GUARDIAN - WORKING</h1>
    <p>Game is loading correctly...</p>
    
    <div class="game">
        <div class="couch">üõãÔ∏è</div>
        <div class="person" id="person">üßç</div>
        
        <div class="message" id="message">
            Person is SITTING on couch. Click PUSH when he tries to STAND.
        </div>
        
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="streak">0</div>
                <div>STREAK</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="time">0</div>
                <div>TIME</div>
            </div>
        </div>
        
        <button class="btn" onclick="pushPerson()">PUSH</button>
        <button class="btn" onclick="startGame()">RESTART</button>
    </div>
    
    <script>
        // Game state
        let streak = 0;
        let time = 0;
        let isTryingToStand = false;
        let standTimer = null;
        let gameTimer = null;
        
        // DOM elements
        const personEl = document.getElementById('person');
        const messageEl = document.getElementById('message');
        const streakEl = document.getElementById('streak');
        const timeEl = document.getElementById('time');
        
        // Start game
        function startGame() {
            streak = 0;
            time = 0;
            isTryingToStand = false;
            
            clearTimeout(standTimer);
            clearInterval(gameTimer);
            
            personEl.className = 'person';
            personEl.textContent = 'üßç';
            messageEl.textContent = 'Person is SITTING on couch. Click PUSH when he tries to STAND.';
            
            updateDisplay();
            
            gameTimer = setInterval(() => {
                time++;
                timeEl.textContent = time;
                
                // Random attempt to stand
                if (!isTryingToStand && Math.random() < 0.3) {
                    startAttempt();
                }
            }, 1000);
            
            // First attempt soon
            setTimeout(startAttempt, 1500);
        }
        
        // Start attempt
        function startAttempt() {
            if (isTryingToStand) return;
            
            isTryingToStand = true;
            personEl.classList.add('standing');
            personEl.textContent = 'üö∂';
            messageEl.textContent = 'HE IS STANDING! CLICK PUSH NOW!';
            messageEl.style.color = '#ff6b6b';
            
            standTimer = setTimeout(() => {
                if (isTryingToStand) {
                    messageEl.textContent = 'TOO SLOW! He stood up.';
                    messageEl.style.color = '#ff0000';
                    personEl.textContent = 'üèÉ‚Äç‚ôÇÔ∏è';
                    setTimeout(startGame, 2000);
                }
            }, 2000);
        }
        
        // Push person back
        function pushPerson() {
            if (isTryingToStand) {
                // Successful push
                streak++;
                clearTimeout(standTimer);
                isTryingToStand = false;
                
                personEl.classList.remove('standing');
                personEl.textContent = 'üßç';
                messageEl.textContent = '+1! Person is sitting again.';
                messageEl.style.color = '#4ecdc4';
                
            } else {
                // Push too early
                if (streak > 0) {
                    streak = 0;
                    messageEl.textContent = 'Too early! Streak broken.';
                    messageEl.style.color = '#ff6b6b';
                }
            }
            
            updateDisplay();
        }
        
        // Update display
        function updateDisplay() {
            streakEl.textContent = streak;
            timeEl.textContent = time;
        }
        
        // Start game on load
        startGame();
        
        // Keyboard controls
        document.addEventListener('keydown', function(e) {
            if (e.code === 'Space') {
                pushPerson();
                e.preventDefault();
            } else if (e.code === 'KeyR') {
                startGame();
            }
        });
        
        console.log('Couch Guardian loaded successfully');
    </script>
</body>
</html>