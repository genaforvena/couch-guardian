<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõãÔ∏è Couch Guardian - –ò–≥—Ä–∞–π —Å–µ–π—á–∞—Å!</title>
    <meta name="description" content="–ê–±—Å—É—Ä–¥–Ω–∞—è –∏–≥—Ä–∞ –≥–¥–µ –Ω—É–∂–Ω–æ –Ω–µ –¥–∞–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–∂—É –≤—Å—Ç–∞—Ç—å —Å –¥–∏–≤–∞–Ω–∞. –°—Ç—Ä–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞, –ª–∏–¥–µ—Ä–±–æ—Ä–¥, –¥–µ–ª–∏—Ç–µ—Å—å —Å –¥—Ä—É–∑—å—è–º–∏!">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Arial', sans-serif; }
        body { background: linear-gradient(135deg, #667eea, #764ba2); min-height: 100vh; color: white; }
        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        header { text-align: center; padding: 40px 20px; }
        h1 { font-size: 3em; margin-bottom: 10px; }
        .subtitle { font-size: 1.2em; opacity: 0.9; margin-bottom: 30px; }
        .game-area { background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 20px; padding: 30px; margin-bottom: 30px; }
        .couch-container { position: relative; height: 300px; background: linear-gradient(45deg, #8b4513, #a0522d); border-radius: 15px; margin: 20px 0; border: 5px solid #654321; }
        .couch { position: absolute; bottom: 0; left: 0; right: 0; height: 80px; background: #654321; }
        .character { position: absolute; bottom: 80px; left: 50%; transform: translateX(-50%); width: 60px; height: 100px; background: #4ecdc4; border-radius: 30px; transition: all 0.3s; }
        .hand { position: absolute; width: 50px; height: 50px; background: rgba(255,255,255,0.3); border-radius: 50%; border: 2px dashed white; cursor: move; }
        .stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 20px 0; }
        .stat { background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; text-align: center; }
        .stat-value { font-size: 2em; font-weight: bold; margin: 5px 0; }
        .controls { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }
        button { padding: 12px 24px; border: none; border-radius: 25px; background: #ff6b6b; color: white; font-weight: bold; cursor: pointer; transition: 0.3s; }
        button:hover { transform: translateY(-2px); }
        .share { text-align: center; margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px; }
        .notification { position: fixed; top: 20px; right: 20px; background: white; color: #333; padding: 15px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); display: none; }
        .notification.show { display: block; animation: slideIn 0.5s; }
        @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
        @media (max-width: 768px) { .container { padding: 10px; } h1 { font-size: 2em; } .stats { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="notification" id="notif">–°–æ–æ–±—â–µ–Ω–∏–µ</div>
    <div class="container">
        <header>
            <h1>üõãÔ∏è Couch Guardian</h1>
            <div class="subtitle">–ê–±—Å—É—Ä–¥–Ω–∞—è –∏–≥—Ä–∞ —Å –Ω–µ—è—Å–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏. –ù–µ –¥–∞–π –≤—Å—Ç–∞—Ç—å —Å –¥–∏–≤–∞–Ω–∞!</div>
        </header>
        
        <div class="game-area">
            <div style="text-align: center; margin-bottom: 20px;">
                <button onclick="selectCharacter('chill')" style="background:#4ecdc4;">üòå –ß–∏–ª–ª–∏</button>
                <button onclick="selectCharacter('angry')" style="background:#ff6b6b;">‚ö° –≠–Ω–µ—Ä–¥–∂–∏</button>
            </div>
            
            <div class="couch-container" id="couch">
                <div class="couch"></div>
                <div class="character" id="character"></div>
                <div class="hand" id="hand" style="left:50%; top:50%;">üëã</div>
            </div>
            
            <div class="stats">
                <div class="stat"><div>‚è±Ô∏è –°–µ–∫—É–Ω–¥</div><div class="stat-value" id="time">0</div></div>
                <div class="stat"><div>üòå –û—á–∫–∏</div><div class="stat-value" id="score">0</div></div>
                <div class="stat"><div>üëã –¢–æ–ª—á–∫–∏</div><div class="stat-value" id="pushes">0</div></div>
                <div class="stat"><div>üé≠ –ê–±—Å—É—Ä–¥</div><div class="stat-value" id="absurd">1</div></div>
            </div>
            
            <div class="controls">
                <button onclick="startGame()" id="startBtn">üéÆ –ù–∞—á–∞—Ç—å</button>
                <button onclick="pushNow()" id="pushBtn">üëã –¢–æ–ª–∫–Ω—É—Ç—å (–ü—Ä–æ–±–µ–ª)</button>
                <button onclick="pauseGame()" id="pauseBtn">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
                <button onclick="shareGame()" style="background:#25D366;">üì± –ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
            </div>
            
            <div class="share">
                <h3>üèÜ –¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤:</h3>
                <div id="leaderboard" style="margin: 15px 0; text-align: left; background: rgba(0,0,0,0.2); padding: 15px; border-radius: 10px;">
                    1. –¢—ã: <span id="myScore">0</span> –æ—á–∫–æ–≤<br>
                    2. –í–æ–æ–±—Ä–∞–∂–∞–µ–º—ã–π –¥—Ä—É–≥: ???<br>
                    3. –ö–æ—Ç –Ω–∞ –¥–∏–≤–∞–Ω–µ: ‚àû
                </div>
                <p>–°—Å—ã–ª–∫–∞ –Ω–∞ –∏–≥—Ä—É: <input type="text" id="gameLink" value="–ó–∞–≥—Ä—É–∑–∏ –Ω–∞ GitHub Pages —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É" readonly style="width:100%; padding:10px; margin:10px 0; border-radius:5px; border:none;">
                <button onclick="copyLink()" style="background:#667eea; width:100%;">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
            </div>
        </div>
        
        <div style="text-align:center; margin-top:30px; opacity:0.8; font-size:0.9em;">
            –ò–≥—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å ‚ù§Ô∏è –∏ –∞–±—Å—É—Ä–¥–æ–º | –í–µ—Ä—Å–∏—è 1.0 | <a href="#" onclick="showRule()" style="color:#ffd93d; text-decoration:none;">ü§î –ü—Ä–∞–≤–∏–ª–∞</a>
        </div>
    </div>

    <script>
        let game = { playing: false, paused: false, time: 0, score: 0, pushes: 0, absurd: 1, char: 'chill', timer: null };
        const rules = [
            "–û—á–∫–∏ —Ä–∞—Å—Ç—É—Ç –ø–æ —Å–µ–∫—Ä–µ—Ç–Ω–æ–π —Ñ–æ—Ä–º—É–ª–µ",
            "–¢–æ–ª—á–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ–∂–Ω–µ–µ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º",
            "–ö–∞–∂–¥–∞—è 7-—è —Å–µ–∫—É–Ω–¥–∞ –æ—Å–æ–±–µ–Ω–Ω–∞—è",
            "–ü—Ä–∞–≤–∏–ª–∞ –º–µ–Ω—è—é—Ç—Å—è —Å —É—Ä–æ–≤–Ω–µ–º –∞–±—Å—É—Ä–¥–∞",
            "–ß–µ–º –¥–æ–ª—å—à–µ –∏–≥—Ä–∞–µ—à—å, —Ç–µ–º –º–µ–Ω—å—à–µ –ø–æ–Ω–∏–º–∞–µ—à—å"
        ];
        
        function showRule() {
            document.getElementById('notif').textContent = "–ü—Ä–∞–≤–∏–ª–æ: " + rules[Math.floor(Math.random() * rules.length)];
            document.getElementById('notif').classList.add('show');
            setTimeout(() => document.getElementById('notif').classList.remove('show'), 3000);
        }
        
        function selectCharacter(char) {
            game.char = char;
            document.getElementById('character').style.background = char === 'chill' ? '#4ecdc4' : '#ff6b6b';
            showNotification('–í—ã–±—Ä–∞–Ω ' + (char === 'chill' ? '–ß–∏–ª–ª–∏ üòå' : '–≠–Ω–µ—Ä–¥–∂–∏ ‚ö°'));
        }
        
        function startGame() {
            if (game.playing) return;
            game.playing = true;
            game.paused = false;
            game.time = 0;
            game.score = 0;
            game.pushes = 0;
            game.absurd = 1;
            document.getElementById('startBtn').textContent = 'üéÆ –ò–≥—Ä–∞ –∏–¥–µ—Ç...';
            document.getElementById('startBtn').disabled = true;
            
            game.timer = setInterval(() => {
                if (!game.paused) {
                    game.time++;
                    if (game.time % 30 === 0) game.absurd++;
                    updateDisplay();
                }
            }, 1000);
            
            setupHand();
            showNotification('–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å! –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ —Ä—É–∫—É –∏ –Ω–∞–∂–∏–º–∞–π—Ç–µ –Ω–∞ –Ω–µ–π –∫–æ–≥–¥–∞ —Ä—è–¥–æ–º —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º.');
        }
        
        function setupHand() {
            const hand = document.getElementById('hand');
            const couch = document.getElementById('couch');
            let dragging = false;
            
            hand.addEventListener('mousedown', () => dragging = true);
            document.addEventListener('mousemove', (e) => {
                if (!dragging) return;
                const rect = couch.getBoundingClientRect();
                hand.style.left = (e.clientX - rect.left - 25) + 'px';
                hand.style.top = (e.clientY - rect.top - 25) + 'px';
            });
            document.addEventListener('mouseup', () => dragging = false);
            
            hand.addEventListener('click', pushCharacter);
        }
        
        function pushNow() { if (game.playing && !game.paused) pushCharacter(); }
        
        function pushCharacter() {
            if (!game.playing || game.paused) return;
            game.pushes++;
            
            const hand = document.getElementById('hand');
            const char = document.getElementById('character');
            const handRect = hand.getBoundingClientRect();
            const charRect = char.getBoundingClientRect();
            
            const distance = Math.sqrt(
                Math.pow(handRect.left - charRect.left, 2) + 
                Math.pow(handRect.top - charRect.top, 2)
            );
            
            if (distance < 100) {
                // –ê–±—Å—É—Ä–¥–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ –æ—á–∫–æ–≤
                const timeBonus = Math.floor(game.time / 10);
                const absurdMul = 1 + (game.absurd * 0.1);
                const charMul = game.char === 'angry' ? 1.3 : 1.2;
                const pushBonus = (game.pushes % 7 === 0) ? 2 : 1;
                const random = 0.8 + Math.random() * 0.4;
                
                game.score += Math.floor((10 + timeBonus) * absurdMul * charMul * pushBonus * random);
                
                // –ê–Ω–∏–º–∞—Ü–∏—è —Ç–æ–ª—á–∫–∞
                char.style.transform = 'translateX(-50%) scale(1.2)';
                char.style.background = '#ff6b6b';
                setTimeout(() => {
                    char.style.transform = 'translateX(-50%)';
                    char.style.background = game.char === 'chill' ? '#4ecdc4' : '#ff6b6b';
                }, 300);
                
                updateDisplay();
                if (Math.random() > 0.7) showRule();
            } else {
                showNotification('–ü–æ–¥–≤–µ–¥–∏—Ç–µ —Ä—É–∫—É –±–ª–∏–∂–µ –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂—É!');
            }
        }
        
        function pauseGame() {
            if (!game.playing) return;
            game.paused = !game.paused;
            document.getElementById('pauseBtn').textContent = game.paused ? '‚ñ∂Ô∏è –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å' : '‚è∏Ô∏è –ü–∞—É–∑–∞';
            showNotification(game.paused ? '–ò–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ' : '–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º!');
        }
        
        function updateDisplay() {
            document.getElementById('time').textContent = game.time;
            document.getElementById('score').textContent = game.score;
            document.getElementById('pushes').textContent = game.pushes;
            document.getElementById('absurd').textContent = game.absurd;
            document.getElementById('myScore').textContent = game.score;
        }
        
        function shareGame() {
            const url = window.location.href;
            const text = `üéÆ Couch Guardian\n–Ø –Ω–∞–±—Ä–∞–ª ${game.score} –æ—á–∫–æ–≤ –≤ —ç—Ç–æ–π –∞–±—Å—É—Ä–¥–Ω–æ–π –∏–≥—Ä–µ!\n–ü–æ–ø—Ä–æ–±—É–π —Ä–∞–∑–≥–∞–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞!\n\n–ò–≥—Ä–∞—Ç—å: ${url}`;
            
            if (navigator.share) {
                navigator.share({ title: 'Couch Guardian', text: text, url: url });
            } else {
                window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
            }
        }
        
        function copyLink() {
            const input = document.getElementById('gameLink');
            input.select();
            document.execCommand('copy');
            showNotification('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä!');
        }
        
        function showNotification(msg) {
            document.getElementById('notif').textContent = msg;
            document.getElementById('notif').classList.add('show');
            setTimeout(() => document.getElementById('notif').classList.remove('show'), 3000);
        }
        
        // –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && game.playing && !game.paused) {
                e.preventDefault();
                pushCharacter();
            }
            if (e.code === 'KeyP') pauseGame();
            if (e.code === 'KeyR' && !game.playing) startGame();
        });
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        selectCharacter('chill');
        document.getElementById('gameLink').value = window.location.href;
        showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Couch Guardian! –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–π—Ç–µ —Ä—É–∫—É –∏ –Ω–∞–∂–∏–º–∞–π—Ç–µ –Ω–∞ –Ω–µ–π –∫–æ–≥–¥–∞ —Ä—è–¥–æ–º —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º.');
    </script>
</body>
</html>