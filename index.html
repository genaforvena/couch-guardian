                // Animation
                personEl.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    personEl.style.transform = 'scale(1)';
                }, 200);
                
                console.log('üí§ Unnecessary push...');
            }
            
            // Update displays
            updateScoreDisplay();
            updatePatienceBar();
            updateAttemptInfo();
        }
        
        // Calculate points (absurd system)
        function calculatePoints(isSuccessful) {
            if (isSuccessful) {
                const possible = [7, 13, 42, -8, 19, -3, 27, 5, -11, 33, 0, 21, -17, 9];
                let points = possible[Math.floor(Math.random() * possible.length)];
                
                // Special conditions
                if (patience < 20) points += 15;
                if (pushes % 7 === 0) points += 7;
                if (time % 13 === 0) points = -Math.abs(points);
                
                return points;
            } else {
                const possible = [-2, 1, 0, -1, 3, -4, 2, 0, -3, 1];
                let points = possible[Math.floor(Math.random() * possible.length)];
                
                return points;
            }
        }
        
        // Update score display
        function updateScoreDisplay() {
            scoreEl.textContent = score;
            
            if (score > 0) {
                scoreEl.className = 'score';
            } else if (score < 0) {
                scoreEl.className = 'score negative';
            } else {
                scoreEl.className = 'score';
            }
        }
        
        // Update patience bar
        function updatePatienceBar() {
            patienceBarEl.style.width = patience + '%';
            
            // Color coding
            if (patience > 70) {
                patienceBarEl.style.background = '#4ecdc4';
            } else if (patience > 40) {
                patienceBarEl.style.background = '#ffd93d';
            } else if (patience > 20) {
                patienceBarEl.style.background = '#ff9a3d';
            } else {
                patienceBarEl.style.background = '#ff6b6b';
            }
        }
        
        // Update attempt info
        function updateAttemptInfo() {
            const chance = attemptSettings.getAttemptChance();
            const description = attemptSettings.getChanceDescription(chance);
            attemptChanceEl.textContent = description;
            
            // Color code based on chance
            if (chance > 0.5) {
                attemptChanceEl.style.color = '#ff6b6b';
            } else if (chance > 0.3) {
                attemptChanceEl.style.color = '#ff9a3d';
            } else if (chance > 0.15) {
                attemptChanceEl.style.color = '#ffd93d';
            } else {
                attemptChanceEl.style.color = '#4ecdc4';
            }
            
            // Show cooldown if active
            if (attemptCooldown > 0) {
                attemptInfoEl.innerHTML = `Cooldown: <span id="attemptChance">${attemptCooldown}s</span>`;
            } else {
                attemptInfoEl.innerHTML = `Next attempt: <span id="attemptChance">${description}</span>`;
            }
        }
        
        // Check time events
        function checkTimeEvents() {
            // Phase transitions
            if (time === 30) {
                console.log('üîÑ Entering mid-game phase');
                attemptInfoEl.innerHTML = 'Phase: <span id="attemptChance" style="color:#ffd93d">Mid-Game</span> (balanced attempts)';
            }
            if (time === 90) {
                console.log('üîÑ Entering late-game phase');
                attemptInfoEl.innerHTML = 'Phase: <span id="attemptChance" style="color:#ff6b6b">Late-Game</span> (unpredictable!)';
            }
            
            // Special events
            if (time % 30 === 0 && time > 0) {
                console.log('‚è∞ 30 seconds milestone');
            }
            if (time % 13 === 0 && time > 0) {
                console.log('üëª 13 seconds...');
            }
        }
        
        // End game
        function endGame(reason) {
            gameOver = true;
            isPlaying = false;
            isTryingToStand = false;
            
            // Show escaped person
            personEl.className = 'person';
            personEl.textContent = 'üèÉ‚Äç‚ôÇÔ∏è';
            
            // Show game over screen
            finalScoreEl.textContent = score;
            finalTimeEl.textContent = time + 's';
            finalPushesEl.textContent = pushes;
            finalAttemptsEl.textContent = attempts;
            gameOverEl.style.display = 'flex';
            
            console.log(`üèÉ‚Äç‚ôÇÔ∏è GAME OVER: ${reason} (Phase: ${attemptSettings.gamePhase})`);
        }
        
        // Reset game
        function resetGame() {
            startGame();
            console.log('üîÑ Game reset');
        }
        
        // Start when page loads
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>